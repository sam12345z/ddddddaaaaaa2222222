<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>warm</title>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="gtag/js?id=UA-137155489-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-137155489-1');
    </script>
    <style>
        body {
            background-color: black;
            overflow: hidden;
        }
        #bg {
            position: absolute;
            image-rendering: pixelated;
        }
    </style>
</head>
<body>
    <img id="bg" src="images/kelvinfull.gif" width="537" height="454">
    <script>
        let bg = document.getElementById("bg");
        function setPos(x, y) {
            bg.style.left = +x-273 + "px";
            bg.style.top = +y-159 + "px";
        }
        if(localStorage.kelvinX && localStorage.kelvinY) {
            setPos(localStorage.kelvinX, localStorage.kelvinY);
        } else {
            bg.style.left = "50%";
            bg.style.top = "50%";
            bg.style.transform = "translate(-50%, -50%)";
        }
        let kelvinBus = new BroadcastChannel("kelvin");
        kelvinBus.onmessage = function(e) {
            if(e.data.x && e.data.y) {
                setPos(e.data.x, e.data.y);
                localStorage.kelvinX = e.data.x;
                localStorage.kelvinY = e.data.y;
            }
        }
    </script>
</body>
</html>